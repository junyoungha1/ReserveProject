<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{pc/fragments/header :: header}"/>
<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
<script th:src="@{/js/showContent.js}"></script>

<body>
<div th:replace="~{pc/fragments/bodyHeader :: bodyHeader}"/>
<div th:replace="~{pc/fragments/bodyHeader :: side-bar}"/>

<div class="view">
  <input type="hidden" id="boardNo" th:value="${board.get().no}" />
<!--  <input type="hidden" id="writerValue" th:value="${board.get().id}" />-->
  <table>
    <tbody>
    <tr>
      <td>작성자</td>
      <td><input type="text" name="id" th:value="${board.get().id}" readonly></td>
    </tr>
    <tr>
      <td>게시글 번호</td>
      <td><input type="text" name="no" th:value="${board.get().no}" readonly></td>
    </tr>
    <tr>
      <td>제목</td>
      <td><input type="text" name="title" th:value="${board.get().title}" readonly></td>
    </tr>
    <tr>
      <td>내용</td>
      <td><textarea name="content" readonly th:text="${board.get().content}"> </textarea></td>
    </tr>
    </tbody>
  </table>
  <div th:if="${session.log == board.get().id}">
    <button onclick="deleteBoard(document.getElementById('boardNo').value)">삭제</button>
    <button onclick="updateBoard(document.getElementById('boardNo').value)">수정</button>
  </div>
  <div id="commentList">

  </div>
  <div th:if="${session.log != null}">
    <form action="#" method="post">
      <label for="comment">댓글 달기</label>
      <input type="text" id="comment" name="comment" placeholder="댓글을 입력하세요">
      <button type="submit">작성하기</button>
    </form>
  </div>

  <!-- 로그인하지 않은 경우 -->
  <div th:if="${session.log == null}">
    <p>댓글을 작성하려면 로그인이 필요합니다.</p>
    <a href="/pc/member/login">로그인</a>
  </div>

</div>

</body>
</html>